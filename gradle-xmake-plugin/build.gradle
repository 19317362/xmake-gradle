plugins {
    // to publish the plugin at the gradle plugin portal
    id "com.gradle.plugin-publish" version "1.1.0"  // Updated version
    // Apply the java-library plugin to add support for Java Library
    id 'java-gradle-plugin'
    id 'maven-publish'
}
apply plugin: 'groovy'

group = "org.tboox"
version = "1.2.1"

repositories {
    // Use mavenCentral for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    mavenCentral()
}

dependencies {
    implementation localGroovy()
    implementation gradleApi()
    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
    compileOnly "com.android.tools.build:gradle:4.0.0"
}

gradlePlugin {
    plugins {
        xmakePlugin {
            id = 'org.tboox.gradle-xmake-plugin'
            implementationClass = 'org.tboox.gradle.XMakePlugin'
            displayName = 'Gradle XMake plugin'
            description = 'A gradle plugin that integrates xmake seamlessly'
            tags = ['xmake', 'c++', 'lua']
            website = 'https://github.com/xmake-io/xmake-gradle'
            vcsUrl = 'https://github.com/xmake-io/xmake-gradle'
        }
    }
}

java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
    toolchain {
        // languageVersion = JavaLanguageVersion.of(17)
    }
}
